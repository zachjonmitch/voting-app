"use strict";var CHART=document.getElementById("myChart");Chart.defaults.scale.ticks.beginAtZero=!0;var getDefaultChart=function(){new Chart(CHART,{type:"doughnut",data:{datasets:[{label:"Points",backgroundColor:["#754373","#d03b3d","#16a085","#2980b9","#ffd300","#ffd300"],data:[10,30,9,15,22]}],labels:["Purple","Red","Green","Blue","Yellow"]},options:{cutoutPercentage:60,responsive:!1}})},getPollAnswers=function(){var e=new XMLHttpRequest;e.open("GET","/polls/answers",!0),e.send(),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText);new Chart(CHART,{type:"doughnut",data:{datasets:[{label:"Points",backgroundColor:["#754373","#d03b3d","#16a085","#2980b9","#ffd300","#ffd300"],data:t.map(function(e){return e.total})}],labels:t.map(function(e){return e._id})},options:{cutoutPercentage:60,responsive:!1}})}}},pollCheck=document.getElementsByClassName("pollCheck"),pollAnswer=document.getElementsByClassName("pollAnswer"),pollGroup=document.getElementById("pollGroup"),likeButton=document.getElementById("likeButton"),userLikedPoll=function(){var e=new XMLHttpRequest;e.open("GET","/polls/likes",!0),e.send(),e.onreadystatechange=function(){4===e.readyState&&"Already liked poll"===e.responseText&&(likeButton.style.cssText="background-color: #156ea8; color: white; opacity: .5; cursor: default;")}};likeButton.addEventListener("click",function(){var e=new XMLHttpRequest;e.open("POST","/polls/likes",!0),e.send(),e.onreadystatechange=function(){4===e.readyState&&"Login or register to like polls"!==e.responseText?likeButton.style.cssText="background-color: #156ea8; color: white; opacity: .5; cursor: default;":4===e.readyState&&"Login or register to like polls"===e.responseText&&alert("You are not logged in")}}),pollGroup.addEventListener("click",function(e){for(var t=0;t<pollAnswer.length;t++)pollAnswer[t].style.borderLeft="1px solid #4C4F54";e.target.checked&&(e.target.parentNode.style.borderLeft="10px solid rgb(66, 171, 158)")});